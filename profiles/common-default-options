# This profile is used for setting common options that are used by C++ software
[settings]

# Keep some libraries in Release mode only
libtool:build_type=Release

[options]
# Packages using these libraries like autoconf are having trouble
# finding them when running in autotools. 
# This list must be vetted so that:
# - we don't use static versions of LGPL libraries in our programs
# - with the caveat that static versions of GPL and LGPL libraries can be used inside tools we use during the build
libiconv:shared=False
freetype:shared=False
fontconfig:shared=False

# Use dynamic libraries in general
bzip2:shared=True
cairo:shared=True
ccdcsqlite3:shared=True
expat:shared=True
jasper:shared=True
jbig:shared=True
lexactivator:shared=True
libcurl:shared=True
libjpeg:shared=True
libpng:shared=True
libtiff:shared=True
libuuid:shared=True
libwebp:shared=True
libxl:shared=True
libxml2:shared=True
openscenegraph:shared=True
openssl:shared=True
protobuf:shared=True
xz_utils:shared=True
zlib:shared=True
zstd:shared=True
# Our use of test libraries requires using a shared library version of googletest
gtest:shared=True

# This helps debugging queries at the cost of some extra space
ccdcsqlite3:enable_explain_comments=True
# We use fts for text search
ccdcsqlite3:enable_fts3=True
ccdcsqlite3:enable_fts4=True
ccdcsqlite3:enable_fts5=True
ccdcsqlite3:enable_json1=True
# enable_null_trim reduces the size of tables with lots of empty rows, like element presence counts
ccdcsqlite3:enable_null_trim=True
# Unsure why we use this.
ccdcsqlite3:max_column=10000

# Enable zlib compression in protobuf
protobuf:with_zlib=True

# Cairo configuration
# Use freetype
cairo:enable_ft=True
# Disable glib unless required
cairo:enable_glib=False

[build_requires]
[env]
